mw.loader.implement("jquery.throttle-debounce",function($,jQuery){(function(window,undefined){'$:nomunge';var $=window.jQuery||window.Cowboy||(window.Cowboy={}),jq_throttle;$.throttle=jq_throttle=function(delay,no_trailing,callback,debounce_mode){var timeout_id,last_exec=0;if(typeof no_trailing!=='boolean'){debounce_mode=callback;callback=no_trailing;no_trailing=undefined;}function wrapper(){var that=this,elapsed=+new Date()-last_exec,args=arguments;function exec(){last_exec=+new Date();callback.apply(that,args);};function clear(){timeout_id=undefined;};if(debounce_mode&&!timeout_id){exec();}timeout_id&&clearTimeout(timeout_id);if(debounce_mode===undefined&&elapsed>delay){exec();}else if(no_trailing!==true){timeout_id=setTimeout(debounce_mode?clear:exec,debounce_mode===undefined?delay-elapsed:delay);}};if($.guid){wrapper.guid=callback.guid=callback.guid||$.guid++;}return wrapper;};$.debounce=function(delay,at_begin,callback){return callback===undefined?jq_throttle(delay,at_begin,false)
:jq_throttle(delay,callback,at_begin!==false);};})(this);});mw.loader.implement("mediawiki.api",function($,jQuery){(function(mw,$){var defaultOptions={parameters:{action:'query',format:'json'},ajax:{url:mw.util.wikiScript('api'),timeout:30*1000,dataType:'json'}},promises={};promises[defaultOptions.ajax.url]={};$.each(mw.user.tokens.get(),function(key,value){promises[defaultOptions.ajax.url][key]=$.Deferred().resolve(value).promise({abort:function(){}});});mw.Api=function(options){if(options===undefined){options={};}if(options.ajax&&options.ajax.url!==undefined){options.ajax.url=String(options.ajax.url);}options.parameters=$.extend({},defaultOptions.parameters,options.parameters);options.ajax=$.extend({},defaultOptions.ajax,options.ajax);this.defaults=options;};mw.Api.prototype={get:function(parameters,ajaxOptions){ajaxOptions=ajaxOptions||{};ajaxOptions.type='GET';return this.ajax(parameters,ajaxOptions);},post:function(parameters,ajaxOptions){ajaxOptions=ajaxOptions||{};ajaxOptions.
type='POST';return this.ajax(parameters,ajaxOptions);},ajax:function(parameters,ajaxOptions){var token,apiDeferred=$.Deferred(),xhr,key,formData;parameters=$.extend({},this.defaults.parameters,parameters);ajaxOptions=$.extend({},this.defaults.ajax,ajaxOptions);if(parameters.token){token=parameters.token;delete parameters.token;}for(key in parameters){if($.isArray(parameters[key])){parameters[key]=parameters[key].join('|');}}if(ajaxOptions.type==='POST'&&window.FormData&&ajaxOptions.contentType==='multipart/form-data'){formData=new FormData();for(key in parameters){formData.append(key,parameters[key]);}if(token){formData.append('token',token);}ajaxOptions.data=formData;ajaxOptions.processData=false;ajaxOptions.contentType=false;}else{ajaxOptions.data=$.param(parameters).replace(/\./g,'%2E');if(token){ajaxOptions.data+='&token='+encodeURIComponent(token);}if(ajaxOptions.contentType==='multipart/form-data'){delete ajaxOptions.contentType;}}xhr=$.ajax(ajaxOptions).fail(function(xhr,
textStatus,exception){apiDeferred.reject('http',{xhr:xhr,textStatus:textStatus,exception:exception});}).done(function(result,textStatus,jqXHR){if(result===undefined||result===null||result===''){apiDeferred.reject('ok-but-empty','OK response but empty result (check HTTP headers?)');}else if(result.error){var code=result.error.code===undefined?'unknown':result.error.code;apiDeferred.reject(code,result);}else{apiDeferred.resolve(result,jqXHR);}});return apiDeferred.promise({abort:xhr.abort}).fail(function(code,details){if(!(code==='http'&&details&&details.textStatus==='abort')){mw.log('mw.Api error: ',code,details);}});},postWithToken:function(tokenType,params,ajaxOptions){var api=this;return api.getToken(tokenType,params.assert).then(function(token){params.token=token;return api.post(params,ajaxOptions).then(null,function(code){if(code==='badtoken'){api.badToken(tokenType);params.token=undefined;return api.getToken(tokenType,params.assert).then(function(token){params.token=token;return api
.post(params,ajaxOptions);});}return this;});});},getToken:function(type,assert){var apiPromise,promiseGroup=promises[this.defaults.ajax.url],d=promiseGroup&&promiseGroup[type+'Token'];if(!d){apiPromise=this.get({action:'tokens',type:type,assert:assert});d=apiPromise.then(function(data){if(data.tokens&&data.tokens[type+'token']){return data.tokens[type+'token'];}return $.Deferred().reject('token-missing',data);},function(){delete promiseGroup[type+'Token'];return this;}).promise({abort:apiPromise.abort});if(!promiseGroup){promiseGroup=promises[this.defaults.ajax.url]={};}promiseGroup[type+'Token']=d;}return d;},badToken:function(type){var promiseGroup=promises[this.defaults.ajax.url];if(promiseGroup){delete promiseGroup[type+'Token'];}}};mw.Api.errors=['ok-but-empty','timeout','duplicate','duplicate-archive','noimageinfo','uploaddisabled','nomodule','mustbeposted','badaccess-groups','missingresult','missingparam','invalid-file-key','copyuploaddisabled','mustbeloggedin','empty-file',
'file-too-large','filetype-missing','filetype-banned','filetype-banned-type','filename-tooshort','illegal-filename','verification-error','hookaborted','unknown-error','internal-error','overwrite','badtoken','fetchfileerror','fileexists-shared-forbidden','invalidtitle','notloggedin','stashfailed','stasherror','stashedfilenotfound','stashpathinvalid','stashfilestorage','stashzerolength','stashnotloggedin','stashwrongowner','stashnosuchfilekey'];mw.Api.warnings=['duplicate','exists'];}(mediaWiki,jQuery));});mw.loader.implement("mediawiki.user",function($,jQuery){(function(mw,$){var i,deferreds={},byteToHex=[];function getUserInfo(info){var api;if(!deferreds[info]){deferreds.rights=$.Deferred();deferreds.groups=$.Deferred();api=new mw.Api();api.get({action:'query',meta:'userinfo',uiprop:'rights|groups'}).always(function(data){var rights,groups;if(data.query&&data.query.userinfo){rights=data.query.userinfo.rights;groups=data.query.userinfo.groups;}deferreds.rights.resolve(rights||[]);
deferreds.groups.resolve(groups||[]);});}return deferreds[info].promise();}for(i=0;i<256;i++){byteToHex[i]=(i+256).toString(16).slice(1);}$.extend(mw.user,{generateRandomSessionId:function(){var rnds,i,r,hexRnds=new Array(8),crypto=window.crypto||window.msCrypto;if(crypto&&crypto.getRandomValues){rnds=new Uint8Array(8);crypto.getRandomValues(rnds);}else{rnds=new Array(8);for(i=0;i<8;i++){if((i&3)===0){r=Math.random()*0x100000000;}rnds[i]=r>>>((i&3)<<3)&255;}}for(i=0;i<8;i++){hexRnds[i]=byteToHex[rnds[i]];}return hexRnds.join('');},getId:function(){return mw.config.get('wgUserId',0);},getName:function(){return mw.config.get('wgUserName');},getRegistration:function(){var registration=mw.config.get('wgUserRegistration');if(mw.user.isAnon()){return false;}if(registration===null){return null;}return new Date(registration);},isAnon:function(){return mw.user.getName()===null;},sessionId:function(){var sessionId=$.cookie('mediaWiki.user.sessionId');if(sessionId===undefined||sessionId===null){
sessionId=mw.user.generateRandomSessionId();$.cookie('mediaWiki.user.sessionId',sessionId,{expires:null,path:'/'});}return sessionId;},id:function(){return mw.user.getName()||mw.user.sessionId();},bucket:function(key,options){var cookie,parts,version,bucket,range,k,rand,total;options=$.extend({buckets:{},version:0,expires:30},options||{});cookie=$.cookie('mediaWiki.user.bucket:'+key);if(typeof cookie==='string'&&cookie.length>2&&cookie.indexOf(':')!==-1){parts=cookie.split(':');if(parts.length>1&&Number(parts[0])===options.version){version=Number(parts[0]);bucket=String(parts[1]);}}if(bucket===undefined){if(!$.isPlainObject(options.buckets)){throw new Error('Invalid bucket. Object expected for options.buckets.');}version=Number(options.version);range=0;for(k in options.buckets){range+=options.buckets[k];}rand=Math.random()*range;total=0;for(k in options.buckets){bucket=k;total+=options.buckets[k];if(total>=rand){break;}}$.cookie('mediaWiki.user.bucket:'+key,version+':'+bucket,{path:'/'
,expires:Number(options.expires)});}return bucket;},getGroups:function(callback){return getUserInfo('groups').done(callback);},getRights:function(callback){return getUserInfo('rights').done(callback);}});}(mediaWiki,jQuery));});
/* cache key: enwiki:resourceloader:filter:minify-js:7:f9d6d91b6ec9237f6759511727fb1665 */